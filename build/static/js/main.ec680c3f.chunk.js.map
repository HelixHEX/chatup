{"version":3,"sources":["components/Chat/InputField.js","providers/WindowWidthProvider.js","components/Chat/Message.js","utils/Socket.js","components/Chat/Chat.js","components/Login/Login.js","App.js","reportWebVitals.js","index.js"],"names":["InputField","isSubmitting","label","props","useField","field","error","colorMode","useColorMode","isInvalid","htmlFor","name","size","bg","height","pr","autoComplete","variant","id","width","isLoading","mb","colorScheme","color","rounded","_hover","mr","type","getWindowDimensions","window","innerWidth","innerHeight","socket","MobileMessages","index","message","senderName","textBubble","textColor","senderColor","mt","display","padding","roundedTopLeft","roundedTopRight","roundedBottomRight","maxW","w","fontSize","pos","overflowX","wordBreak","Message","useState","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","useWindowDimensions","maxWidth","Chat","messages","setMessages","username","setUsername","history","useHistory","users","setUsers","room","setRoom","cb","length","push","io","console","log","data","emit","join","list","on","msg","subscribeToChat","err","addMessage","disconnect","oldMessages","scroll","Scroll","handleSend","scrollTo","fontWeight","textAlign","ml","zIndex","bottom","initialValues","onSubmit","values","actions","setSubmitting","placeholder","map","Login","toast","useToast","e","preventDefault","handleUsername","handleRoom","title","description","status","duration","isClosable","margin","flexDir","value","onChange","target","App","exact","path","render","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","theme","extendTheme","config","initialColorMode","useSystemColorMode","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ec680c3f.chunk.js","sourcesContent":["import React from \"react\";\n\nimport {\n  Button,\n  FormControl,\n  FormErrorMessage,\n  FormLabel,\n  Input,\n  InputGroup,\n  InputRightElement,\n  useColorMode,\n} from \"@chakra-ui/react\";\nimport { useField } from \"formik\";\n\nexport const InputField = ({\n  isSubmitting,\n  label,\n  ...props\n}) => {\n  const [field, { error }] = useField(props);\n  const { colorMode } = useColorMode();\n  return (\n    <FormControl isInvalid={!!error}>\n      <FormLabel htmlFor={field.name}>{label}</FormLabel>\n      <InputGroup size=\"md\">\n        <Input\n          // rounded={25}\n          bg={colorMode === \"light\" ? \"gray.200\" : \"gray.800\"}\n          height=\"40px\"\n          pr=\"4.5rem\"\n          autoComplete='false'\n          variant='flushed'\n          {...field}\n          {...props}\n          id={field.name}\n        />\n        <InputRightElement width=\"4.5rem\">\n          <Button\n            isLoading={isSubmitting}\n            // variantColor={colorMode === \"light\" ? \"blue\" : \"blue\"}\n            height=\"30px\"\n            mb={3}\n            colorScheme='twitter'\n            bg='red.400'\n            color='white'\n            rounded={50}\n            _hover={{bg: 'gray.200', color: 'blue.900'}}\n            // rounded={20}\n            mr=\"10px\"\n            type=\"submit\"\n          >\n            Send\n          </Button>\n        </InputRightElement>\n      </InputGroup>\n      {error ? <FormErrorMessage>{error}</FormErrorMessage> : null}\n    </FormControl>\n  );\n};","import { useState, useEffect} from 'react';\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height} = window ;\n  return {\n    width,\n    height\n  }\n}\n\nexport default function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions())\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize)\n  }, [])\n\n  return windowDimensions\n}\n","import React, { useState } from \"react\";\n\n//Chakra ui components\nimport { ListItem, Text, useColorMode, Flex, Box } from \"@chakra-ui/react\";\n\nimport useWindowDimensions from '../../providers/WindowWidthProvider'\n\n\nconst Message = ({ index, message, senderName }) => {\n  const { colorMode } = useColorMode();\n\n  let textBubble = colorMode === \"light\" ? \"blue.400\" : \"blue.900\";\n  let textColor = colorMode === \"light\" ? \"white\" : \"blue.200\";\n  let senderColor = colorMode === 'light' ? 'gray.700' : 'gray.200'\n\n  //check screen size\n  const { width } = useWindowDimensions()\n  const [maxWidth] = useState(800)\n  if (width < 768) {\n    return (\n      <MobileMessages message={message} index={index} senderName={senderName} />\n    )\n  }\n  if (index === 0) {\n    return (\n      <ListItem mt={5} >\n        <Flex\n          display=\"inline-block\"\n          padding={2}\n          roundedTopLeft={10}\n          roundedTopRight={10}\n          roundedBottomRight={10}\n          bg={textBubble}\n          maxW={maxWidth}\n          w=\"max-content\"\n        >\n          <Text fontSize=\"15px\"  color={textColor}>\n            {message}\n          </Text>\n        </Flex>\n        <Flex>\n          <Text fontSize=\"13px\" color={senderColor}>\n            {senderName}\n          </Text>\n        </Flex>\n      </ListItem>\n    );\n  }\n\n  return (\n    <ListItem pos='relative' mt={5} >\n      <Box\n        maxW={width-300}\n        w='max-content'\n        display=\"inline-block\"\n        padding={2}\n        pos='relative'\n        roundedTopLeft={10}\n        roundedTopRight={10}\n        roundedBottomRight={10}\n        bg={textBubble}\n       \n      >\n        <Text overflowX='auto' wordBreak='break-word' fontSize=\"16px\" color={textColor}>\n          {message}\n        </Text>\n      </Box>\n      <Flex>\n        <Text fontSize=\"13px\" color={senderColor} >\n          {senderName}\n        </Text>\n      </Flex>\n    </ListItem>\n  );\n};\n\nconst MobileMessages = (props: any) => {\n  const { index, message, senderName } = props\n\n  const { colorMode } = useColorMode();\n\n  let textBubble = colorMode === \"light\" ? \"blue.400\" : \"blue.900\";\n  let textColor = colorMode === \"light\" ? \"white\" : \"blue.200\";\n  let senderColor = colorMode === 'light' ? 'gray.700' : 'gray.200'\n\n  if (index === 0) {\n    return (\n      <ListItem mt={5} >\n        <Flex\n          display=\"inline-block\"\n          padding={2}\n          roundedTopLeft={10}\n          roundedTopRight={10}\n          roundedBottomRight={10}\n          bg={textBubble}\n          maxW={300}\n          w=\"max-content\"\n        >\n          <Text fontSize=\"15px\"  color={textColor}>\n            {message}\n          </Text>\n        </Flex>\n        <Flex>\n          <Text fontSize=\"13px\" color={senderColor}>\n            {senderName}\n          </Text>\n        </Flex>\n      </ListItem>\n    );\n  }\n\n  return (\n    <ListItem pos='relative' mt={5} >\n      <Box\n        maxW={300}\n        w='max-content'\n        display=\"inline-block\"\n        padding={2}\n        pos='relative'\n        roundedTopLeft={10}\n        roundedTopRight={10}\n        roundedBottomRight={10}\n        bg={textBubble}\n       \n      >\n        <Text overflowX='auto' wordBreak='break-word' fontSize=\"16px\" color={textColor}>\n          {message}\n        </Text>\n      </Box>\n      <Flex>\n        <Text fontSize=\"13px\" color={senderColor} >\n          {senderName}\n        </Text>\n      </Flex>\n    </ListItem>\n  );\n}\n\nexport default Message;","import io from 'socket.io-client'\nlet socket;\n\nconst ENDPOINT = \"http://192.168.1.164:5000\";\n\nexport const initiateSocket = () => {\n  socket = io();\n  console.log(`Connecting socket...`);\n}\n\nexport const join = (username, room) => {\n  const data = {\n    username,\n    room\n  }\n  if (socket) {\n    socket.emit('join', data)\n  }\n}\n\nexport const onlineusers = (cb) => {\n  if (socket) {\n    socket.on('onlineusers', users => {\n      return cb(users)\n    })\n  }\n}\n\nexport const subscribeToChat = (cb) => {\n  if (!socket) return (true)\n\n  socket.on(\"chat message\", msg => {\n    return cb(null, msg)\n  });\n}\n\nexport const sendMessage = (msg) => {\n  if (socket) socket.emit('chat message', msg)\n}\n\nexport const disconnectSocket = (id) => {\n  console.log('Disconnecting socket...');\n  if (socket) {\n    socket.emit('close', id)\n    socket.disconnect();\n  }\n}","// import logo from './logo.svg';\nimport React, { useState, useEffect } from \"react\";\nimport {\n  useColorMode,\n  Flex,\n  Box,\n  List,\n  Text,\n} from '@chakra-ui/react'\n\nimport { Form, Formik } from \"formik\";\nimport { InputField } from \"./InputField\";\nimport Message from \"./Message\";\nimport * as Scroll from \"react-scroll\";\nimport { useHistory } from \"react-router-dom\";\n// import { Helmet } from 'react-helmet'\n\nimport { join, onlineusers, sendMessage, disconnectSocket, initiateSocket, subscribeToChat } from '../../utils/Socket'\n\n// const ENDPOINT = \"http://192.168.1.164:5000\";\n// const socket = socketIOClient(ENDPOINT);\n\nconst Chat = (props) => {\n  const [messages, setMessages] = useState([]);\n  const { colorMode } = useColorMode();\n  const [username, setUsername] = useState('')\n  const history = useHistory()\n  const [users, setUsers] = useState([])\n  const [room, setRoom] = useState('')\n\n  useEffect(() => {\n    if (props.username.length > 1) {\n      setUsername(props.username)\n    } else {\n      history.push('/login')\n    }\n\n    if (props.room.length > 1) {\n      setRoom(props.room)\n    } else {\n      history.push('/login')\n    }\n\n    if (username && room) {\n      initiateSocket()\n      join(username, room)\n    }\n\n    onlineusers((list) => {\n      setUsers(list)\n    })\n\n    subscribeToChat((err, data) => {\n      if (err) return true\n\n      addMessage(data)\n    })\n\n    return () => {\n      disconnectSocket()\n    }\n\n    // return () => {\n    //   socket.disconnect(username);\n    // }\n    // return () => socket.disconnect()\n  }, [history, props.username, username, props.room, room]);\n\n  const addMessage = (msg) => {\n    setMessages(oldMessages => [...oldMessages, msg])\n  }\n\n  const scroll = Scroll.animateScroll;\n  const scrollToBottom = () => {\n    if (messages) {\n      scroll.scrollTo(messages.length * 80);\n    }\n  };\n  const handleSend = (data) => {\n    if (data.message.length >= 1) {\n      // socket.emit(\"chat message\", data);\n      sendMessage(data)\n      scrollToBottom()\n    }\n  }\n\n  if (messages.length <= 0) {\n    return (\n      <>\n        <Text fontWeight='200' fontSize={30} textAlign='center'>Welcome {username}</Text>\n        <Text fontWeight='200' fontSize={30} textAlign='center'>Online users: {users.length}</Text>\n        <Flex ml=\"10px\" w=\"100%\">\n          <Box\n            bg={colorMode === \"light\" ? \"white\" : \"gray.800\"}\n            pos=\"fixed\"\n            w={\"100%\"}\n            zIndex={10}\n            bottom=\"0\"\n          >\n            <Formik\n              initialValues={{ message: \"\" }}\n              onSubmit={(values, actions) => {\n                handleSend({\n                  message: values.message,\n                  senderName: username,\n                  room: room\n                });\n                actions.setSubmitting(false);\n                values.message = \"\";\n              }}\n            >\n              {({ isSubmitting }) => (\n                <Form>\n                  <Box w=\"auto\" pos=\"relative\" mb=\"10px\" mr=\"20px\">\n                    <InputField\n                      label=\"\"\n                      name=\"message\"\n                      placeholder=\"Enter message\"\n                      isSubmitting={isSubmitting}\n                    />\n                  </Box>\n                </Form>\n              )}\n            </Formik>\n          </Box>\n        </Flex>\n      </>\n    );\n  }\n  return (\n    <>\n      <Text fontWeight='200' fontSize={30} textAlign='center'>Welcome {username}</Text>\n      <Text fontWeight='200' fontSize={30} textAlign='center'>Online users: {users.length}</Text>\n      <Flex ml=\"10px\" w=\"100%\">\n        <Box\n          bg={colorMode === \"light\" ? \"white\" : \"gray.800\"}\n          pos=\"fixed\"\n          w={\"100%\"}\n          zIndex={10}\n          bottom=\"0\"\n        >\n          <Formik\n            initialValues={{ message: \"\" }}\n            onSubmit={(values, actions) => {\n              handleSend({\n                message: values.message,\n                senderName: username,\n                room: room\n              });\n              actions.setSubmitting(false);\n              values.message = \"\";\n            }}\n          >\n            {({ isSubmitting }) => (\n              <Form>\n                <Box w=\"auto\" pos=\"relative\" mb=\"10px\" mr=\"20px\">\n                  <InputField\n                    label=\"\"\n                    name=\"message\"\n                    placeholder=\"Enter message\"\n                    isSubmitting={isSubmitting}\n                  />\n                </Box>\n              </Form>\n            )}\n          </Formik>\n        </Box>\n        <Flex mb=\"80px\" w=\"100%\" pos=\"relative\">\n          <List>\n            {messages?.map((message, index) => (\n              <div>\n                <Message\n                  id={message.id}\n                  message={message.message}\n                  senderName={message.senderName}\n                  index={index}\n                />\n              </div>\n            ))}\n          </List>\n        </Flex>\n      </Flex>\n    </>\n  );\n}\n\n\nexport default Chat;","import React, { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport {\n  Input,\n  Button,\n  Flex,\n  Text,\n  useToast\n} from '@chakra-ui/react'\n\nconst Login = (props) => {\n  const [username, setUsername] = useState('')\n  const [room, setRoom] = useState('general')\n  const history = useHistory()\n  const toast = useToast()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n\n    if (room && username) {\n      history.push('/')\n      props.handleUsername(username)\n      props.handleRoom(room)\n    } else {\n      toast({\n        title: \"Uh Oh :(\",\n        description: \"All fields required\",\n        status: \"warning\",\n        duration: 4000,\n        isClosable: true,\n      })\n    }\n  }\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <Flex w={['90%', '70%', '60%', '50%']} margin='auto' mt={['50%', '40%', '30%', '20%']} flexDir='column'>\n          <Text fontSize={[20, 25, 25, 30]} textAlign='center' fontWeight='200'>Welcome to my simple chat application!</Text>\n          <Text fontSize={[20, 25, 25, 30]} textAlign='center' fontWeight='200'>Rigth now it's very basic but soon there will be a bunch of features like different rooms etc.</Text>\n          <Flex>\n            <Input variant='flushed' placeholder='Enter Username' value={username} onChange={(username) => setUsername(username.target.value)} />\n            <Button _hover={{ bg: 'gray.200', color: 'blue.900' }} bg='red.400' ml={10} type='submit'>Enter</Button>\n          </Flex>\n          {/* <Flex mt={5} flexDir='column'>\n            <Text fontSize={30} fontWeight='200' textAlign='center'>Rooms</Text>\n            <Flex h={20} w={['80%', '60%', '50%']} margin='auto' justifyContent='space-between'>\n              <Button bg={room === 'general' ? 'red.400' : 'gray.700'} onClick={() => setRoom('general')} >General</Button>\n              <Button bg={room === 'random' ? 'red.400' : 'gray.700'} onClick={() => setRoom('random')} >Random</Button>\n            </Flex>\n          </Flex> */}\n        </Flex>\n      </form>\n    </>\n  )\n}\n\nexport default Login","import React, {useState} from 'react'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\n\nimport Chat from './components/Chat/Chat'\nimport Login from './components/Login/Login'\n\nconst App = () => {\n  const [username, setUsername] = useState('')\n  const [room, setRoom] = useState('')\n  const handleUsername = (username) => {\n    setUsername(username)\n  }\n  const handleRoom = (room) => {\n    setRoom(room)\n  }\n  return (\n    <>\n      <Router>\n        <Switch>\n          <Route exact path='/' render={(props) => <Chat {...props} room={room} username={username} />} />\n          <Route exact path='/login' render={(props) => <Login {...props} handleRoom={handleRoom} handleUsername={handleUsername} />} />\n        </Switch>\n      </Router>\n    </>\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { ChakraProvider, extendTheme } from \"@chakra-ui/react\"\n\nconst config = {\n  initialColorMode: \"dark\",\n  useSystemColorMode: false,\n}\n\nconst theme = extendTheme({ config })\n\nReactDOM.render(\n  <React.StrictMode>\n    <ChakraProvider theme={theme}>\n      <App />\n    </ChakraProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}