(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{137:function(e,t,n){},185:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),r=n(63),o=n.n(r),a=(n(137),n(33)),s=n(3),l=n(65),j=n(9),b=n(22),d=n(187),u=n(200),h=n(199),g=n(201),x=n(198),m=n(42),O=n(127),f=n(39),p=n(194),v=n(195),w=n(205),S=n(196),y=n(203),z=n(197),k=n(2),W=function(e){var t=e.isSubmitting,n=e.label,i=Object(O.a)(e,["isSubmitting","label"]),c=Object(m.c)(i),r=Object(s.a)(c,2),o=r[0],l=r[1].error,j=Object(d.b)().colorMode;return Object(k.jsxs)(f.a,{isInvalid:!!l,children:[Object(k.jsx)(p.a,{htmlFor:o.name,children:n}),Object(k.jsxs)(v.a,{size:"md",children:[Object(k.jsx)(w.a,Object(a.a)(Object(a.a)(Object(a.a)({bg:"light"===j?"gray.200":"gray.800",height:"40px",pr:"4.5rem",autoComplete:"false",variant:"flushed"},o),i),{},{id:o.name})),Object(k.jsx)(S.a,{width:"4.5rem",children:Object(k.jsx)(y.a,{isLoading:t,height:"30px",mb:3,colorScheme:"twitter",bg:"red.400",color:"white",rounded:50,_hover:{bg:"gray.200",color:"blue.900"},mr:"10px",type:"submit",children:"Send"})})]}),l?Object(k.jsx)(z.a,{children:l}):null]})};function T(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var E,F=function(e){var t=e.index,n=e.message,i=e.senderName,c=Object(d.b)().colorMode,r="light"===c?"blue.400":"blue.900",o="light"===c?"white":"blue.200",a="light"===c?"gray.700":"gray.200";return 0===t?Object(k.jsxs)(x.b,{mt:5,children:[Object(k.jsx)(h.a,{display:"inline-block",padding:2,roundedTopLeft:10,roundedTopRight:10,roundedBottomRight:10,bg:r,maxW:300,w:"max-content",children:Object(k.jsx)(u.a,{fontSize:"15px",color:o,children:n})}),Object(k.jsx)(h.a,{children:Object(k.jsx)(u.a,{fontSize:"13px",color:a,children:i})})]}):Object(k.jsxs)(x.b,{pos:"relative",mt:5,children:[Object(k.jsx)(g.a,{maxW:300,w:"max-content",display:"inline-block",padding:2,pos:"relative",roundedTopLeft:10,roundedTopRight:10,roundedBottomRight:10,bg:r,children:Object(k.jsx)(u.a,{overflowX:"auto",wordBreak:"break-word",fontSize:"16px",color:o,children:n})}),Object(k.jsx)(h.a,{children:Object(k.jsx)(u.a,{fontSize:"13px",color:a,children:i})})]})},L=function(e){var t=e.index,n=e.message,c=e.senderName,r=Object(d.b)().colorMode,o="light"===r?"blue.400":"blue.900",a="light"===r?"white":"blue.200",l="light"===r?"gray.700":"gray.200",j=function(){var e=Object(i.useState)(T()),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(i.useEffect)((function(){function e(){c(T())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}().width,b=Object(i.useState)(800),m=Object(s.a)(b,1)[0];return j<768?Object(k.jsx)(F,{message:n,index:t,senderName:c}):0===t?Object(k.jsxs)(x.b,{mt:5,children:[Object(k.jsx)(h.a,{display:"inline-block",padding:2,roundedTopLeft:10,roundedTopRight:10,roundedBottomRight:10,bg:o,maxW:m,w:"max-content",children:Object(k.jsx)(u.a,{fontSize:"15px",color:a,children:n})}),Object(k.jsx)(h.a,{children:Object(k.jsx)(u.a,{fontSize:"13px",color:l,children:c})})]}):Object(k.jsxs)(x.b,{pos:"relative",mt:5,children:[Object(k.jsx)(g.a,{maxW:j-300,w:"max-content",display:"inline-block",padding:2,pos:"relative",roundedTopLeft:10,roundedTopRight:10,roundedBottomRight:10,bg:o,children:Object(k.jsx)(u.a,{overflowX:"auto",wordBreak:"break-word",fontSize:"16px",color:a,children:n})}),Object(k.jsx)(h.a,{children:Object(k.jsx)(u.a,{fontSize:"13px",color:l,children:c})})]})},R=n(121),B=n(122),C=n.n(B),M=function(e){var t=Object(i.useState)([]),n=Object(s.a)(t,2),c=n[0],r=n[1],o=Object(d.b)().colorMode,a=Object(i.useState)(""),l=Object(s.a)(a,2),O=l[0],f=l[1],p=Object(j.f)(),v=Object(i.useState)([]),w=Object(s.a)(v,2),S=w[0],y=w[1];Object(i.useEffect)((function(){var t;return e.username.length>1?f(e.username):p.push("/login"),O&&(E=C()(),console.log("Connecting socket..."),function(e){E&&E.emit("join",e)}(O)),t=function(e){y(e)},E&&E.on("onlineusers",(function(e){return t(e)})),function(e){if(!E)return!0;E.on("chat message",(function(t){return e(null,t)}))}((function(e,t){if(e)return!0;z(t)})),function(){var e;console.log("Disconnecting socket..."),E&&(E.emit("close",e),E.disconnect())}}),[p,e.username,O]);var z=function(e){r((function(t){return[].concat(Object(b.a)(t),[e])}))},T=R.animateScroll,F=function(e){var t;e.message.length>=1&&(t=e,E&&E.emit("chat message",t),c&&T.scrollTo(80*c.length))};return c.length<=0?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(u.a,{fontWeight:"200",fontSize:30,textAlign:"center",children:["Welcome ",O]}),Object(k.jsxs)(u.a,{fontWeight:"200",fontSize:30,textAlign:"center",children:["Online users: ",S.length]}),Object(k.jsx)(h.a,{ml:"10px",w:"100%",children:Object(k.jsx)(g.a,{bg:"light"===o?"white":"gray.800",pos:"fixed",w:"100%",zIndex:10,bottom:"0",children:Object(k.jsx)(m.b,{initialValues:{message:""},onSubmit:function(e,t){F({message:e.message,senderName:O}),t.setSubmitting(!1),e.message=""},children:function(e){var t=e.isSubmitting;return Object(k.jsx)(m.a,{children:Object(k.jsx)(g.a,{w:"auto",pos:"relative",mb:"10px",mr:"20px",children:Object(k.jsx)(W,{label:"",name:"message",placeholder:"Enter message",isSubmitting:t})})})}})})})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(u.a,{fontWeight:"200",fontSize:30,textAlign:"center",children:["Welcome ",O]}),Object(k.jsxs)(u.a,{fontWeight:"200",fontSize:30,textAlign:"center",children:["Online users: ",S.length]}),Object(k.jsxs)(h.a,{ml:"10px",w:"100%",children:[Object(k.jsx)(g.a,{bg:"light"===o?"white":"gray.800",pos:"fixed",w:"100%",zIndex:10,bottom:"0",children:Object(k.jsx)(m.b,{initialValues:{message:""},onSubmit:function(e,t){F({message:e.message,senderName:O}),t.setSubmitting(!1),e.message=""},children:function(e){var t=e.isSubmitting;return Object(k.jsx)(m.a,{children:Object(k.jsx)(g.a,{w:"auto",pos:"relative",mb:"10px",mr:"20px",children:Object(k.jsx)(W,{label:"",name:"message",placeholder:"Enter message",isSubmitting:t})})})}})}),Object(k.jsx)(h.a,{mb:"80px",w:"100%",pos:"relative",children:Object(k.jsx)(x.a,{children:null===c||void 0===c?void 0:c.map((function(e,t){return Object(k.jsx)("div",{children:Object(k.jsx)(L,{id:e.id,message:e.message,senderName:e.senderName,index:t})})}))})})]})]})},N=function(e){var t=Object(i.useState)(""),n=Object(s.a)(t,2),c=n[0],r=n[1],o=Object(j.f)();return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("form",{onSubmit:function(t){t.preventDefault(),o.push("/"),e.handleUsername(c)},children:Object(k.jsxs)(h.a,{w:"50%",margin:"auto",mt:"20%",flexDir:"column",children:[Object(k.jsx)(u.a,{fontSize:30,textAlign:"center",fontWeight:"200",children:"Welcome to my simple chat application!"}),Object(k.jsx)(u.a,{fontSize:30,textAlign:"center",fontWeight:"200",children:"Rigth now it's very basic but soon there will be a bunch of features like different rooms etc."}),Object(k.jsxs)(h.a,{children:[Object(k.jsx)(w.a,{variant:"flushed",placeholder:"Enter Username",value:c,onChange:function(e){return r(e.target.value)}}),Object(k.jsx)(y.a,{_hover:{bg:"gray.200",color:"blue.900"},bg:"red.400",ml:10,type:"submit",children:"Enter"})]})]})})})},A=function(){var e=Object(i.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],r=function(e){c(e)};return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(l.a,{children:Object(k.jsxs)(j.c,{children:[Object(k.jsx)(j.a,{exact:!0,path:"/",render:function(e){return Object(k.jsx)(M,Object(a.a)(Object(a.a)({},e),{},{username:n}))}}),Object(k.jsx)(j.a,{exact:!0,path:"/login",render:function(e){return Object(k.jsx)(N,Object(a.a)(Object(a.a)({},e),{},{handleUsername:r}))}})]})})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,206)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),r(e),o(e)}))},D=n(202),U=n(204),J=Object(D.a)({config:{initialColorMode:"dark",useSystemColorMode:!1}});o.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(U.a,{theme:J,children:Object(k.jsx)(A,{})})}),document.getElementById("root")),I()}},[[185,1,2]]]);
//# sourceMappingURL=main.ebe85f2f.chunk.js.map